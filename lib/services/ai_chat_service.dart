/// Моковый сервис ИИ-чата (имитация запроса к бэкенду).
/// В реальном приложении здесь был бы вызов API к обученной модели.
class AIChatService {
  /// Имитация отправки сообщения на бэкенд и получения ответа от ИИ.
  /// Задержка симулирует сетевой запрос.
  static Future<String> sendMessage(String userMessage) async {
    await Future.delayed(const Duration(seconds: 1));
    return _generateMockResponse(userMessage);
  }

  static String _generateMockResponse(String userMessage) {
    final lower = userMessage.toLowerCase();

    if (lower.contains('запись') || lower.contains('приём')) {
      return 'Для записи на приём перейдите в раздел "Запись" в меню приложения. Там вы сможете выбрать удобную дату, время и врача.';
    }
    if (lower.contains('часы') || lower.contains('работа')) {
      return 'Наша клиника работает с понедельника по пятницу с 9:00 до 18:00, в субботу с 9:00 до 14:00. Воскресенье — выходной день.';
    }
    if (lower.contains('адрес') || lower.contains('где')) {
      return 'Наша клиника находится по адресу, указанному в разделе "Профиль". Вы также можете связаться с нами по телефону для уточнения маршрута.';
    }
    if (lower.contains('услуги') || lower.contains('что')) {
      return 'Мы предоставляем широкий спектр медицинских услуг: консультации специалистов, диагностику, лечение и реабилитацию. Подробнее в разделе "Главная".';
    }
    if (lower.contains('привет') || lower.contains('здравствуй')) {
      return 'Здравствуйте! Рад вас видеть. Как дела со здоровьем? Чем могу помочь?';
    }
    if (lower.contains('анализ') || lower.contains('анализы')) {
      return 'Результаты анализов можно посмотреть в разделе "История посещений" → вкладка "Анализы". Там же доступна фильтрация по типу.';
    }
    if (lower.contains('врач') || lower.contains('доктор')) {
      return 'Список врачей и их специализации есть в разделе "Врачи". Там же можно сразу записаться на приём к выбранному специалисту.';
    }

    return 'Спасибо за ваш вопрос. Я могу помочь с информацией о записи, часах работы, услугах, врачах и адресе клиники. Также вы можете записаться на приём через раздел "Запись" в меню.';
  }
}
